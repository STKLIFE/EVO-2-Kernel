/*
 * Copyright (C) 2015 MediaTek Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 */

#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mt-plat/battery_meter.h>

/* ============================================================*/
/* define*/
/* ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R	16900
#define RBAT_PULL_DOWN_R	27000
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R	61900
#define RBAT_PULL_DOWN_R	100000
#endif
#define RBAT_PULL_UP_VOLT	1800



/* ============================================================*/
/* ENUM*/
/* ============================================================*/

/* ============================================================*/
/* structure*/
/* ============================================================*/

/* ============================================================*/
/* typedef*/
/* ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================*/
/* External Variables*/
/* ============================================================*/

/* ============================================================*/
/* External function*/
/* ============================================================*/

/* ============================================================*/
/* <DOD, Battery_Voltage> Table*/
/* ============================================================*/
#if (BAT_NTC_10 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
		{-20, 68237},
		{-15, 53650},
		{-10, 42506},
		{ -5, 33892},
		{  0, 27219},
		{  5, 22021},
		{ 10, 17926},
		{ 15, 14674},
		{ 20, 12081},
		{ 25, 10000},
		{ 30, 8315},
		{ 35, 6948},
		{ 40, 5834},
		{ 45, 4917},
		{ 50, 4161},
		{ 55, 3535},
		{ 60, 3014}
};
#endif

#if (BAT_NTC_47 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
		{-20, 483954},
		{-15, 360850},
		{-10, 271697},
		{ -5, 206463},
		{  0, 158214},
		{  5, 122259},
		{ 10, 95227},
		{ 15, 74730},
		{ 20, 59065},
		{ 25, 47000},
		{ 30, 37643},
		{ 35, 30334},
		{ 40, 24591},
		{ 45, 20048},
		{ 50, 16433},
		{ 55, 13539},
		{ 60, 11210}
	};
#endif

/* T0 -10C*/
BATTERY_PROFILE_STRUCT battery_profile_t0[] = {
{0  ,4157},
{2  ,4131},
{3  ,4112},
{5  ,4097},
{6  ,4083},
{8  ,4069},
{9  ,4054},
{11 ,4039},
{12 ,4022},
{14 ,4006},
{15 ,3991},
{17 ,3978},
{18 ,3965},
{20 ,3952},
{21 ,3937},
{23 ,3923},
{24 ,3910},
{26 ,3899},
{27 ,3887},
{29 ,3874},
{30 ,3864},
{32 ,3853},
{33 ,3842},
{35 ,3834},
{36 ,3827},
{38 ,3818},
{39 ,3811},
{41 ,3803},
{42 ,3796},
{44 ,3789},
{45 ,3784},
{47 ,3779},
{48 ,3775},
{50 ,3773},
{51 ,3769},
{53 ,3764},
{54 ,3758},
{56 ,3755},
{57 ,3749},
{59 ,3743},
{60 ,3736},
{62 ,3727},
{63 ,3719},
{65 ,3710},
{66 ,3702},
{68 ,3691},
{69 ,3680},
{71 ,3670},
{72 ,3656},
{74 ,3644},
{75 ,3633},
{77 ,3621},
{78 ,3607},
{80 ,3596},
{82 ,3585},
{83 ,3572},
{85 ,3564},
{86 ,3553},
{88 ,3543},
{89 ,3535},
{91 ,3526},
{92 ,3514},
{94 ,3495},
{95 ,3472},
{97 ,3452},
{98 ,3426},
{100,3406},
{100,3406},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400} 
};

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] = {
{0 ,4190},
{1 ,4175},
{3 ,4159},
{4 ,4144},
{5 ,4130},
{7 ,4114},
{8 ,4100},
{9 ,4087},
{10,4074},
{12,4062},
{13,4049},
{14,4036},
{16 ,4024},
{17 ,4011},
{18,4000},
{20,3987},
{21,3976},
{22,3965},
{24,3956},
{25,3945},
{26,3933},
{27,3924},
{29,3915},
{30,3903},
{31,3895},
{33,3885},
{34,3874},
{35,3864},
{37,3853},
{38,3844},
{39,3833},
{41 ,3822},
{42,3813},
{43,3804},
{44,3798},
{46,3792},
{47,3788},
{48,3785},
{50,3782},
{51,3781},
{52,3780},
{54,3779},
{55,3776},
{56,3776},
{58,3774},
{59,3775},
{60,3772},//3772
{61,3770},
{63,3766},
{64,3753},
{65,3750},
{67,3747},
{68,3744},
{69,3741},
{71,3738},
{72,3734},
{73,3731},
{75,3728},
{76,3724},
{77,3721},
{78,3718},
{80,3715},
{81,3712},
{82,3708},
{84,3705},
{85,3702},
{86,3699},
{88,3696},
{89,3689},
{90,3684},
{92,3663},
{93,3642},
{94,3615},
{95,3595},
{97,3500},
{98,3458},
{99,3425},
{100,3400} 


};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = {
{0 ,4190},
{1 ,4175},
{3 ,4159},
{4 ,4144},
{5 ,4130},
{7 ,4114},
{8 ,4100},
{9 ,4087},
{10,4074},
{12,4062},
{13,4049},
{14,4036},
{16,4024},
{17,4011},
{18,4000},
{20,3987},
{21,3976},
{22,3965},
{24,3956},
{25,3945},
{26,3933},
{27,3924},
{29,3915},
{30,3903},
{31,3895},
{33,3885},
{34,3874},
{35,3864},
{37,3853},
{38,3844},
{39,3833},
{41,3822},
{42,3813},
{43,3804},
{44,3798},
{46,3792},
{47,3788},
{48,3785},
{50,3782},
{51,3781},
{52,3780},
{54,3779},
{55,3776},
{56,3776},
{58,3774},
{59,3775},
{60,3772},//3772
{61,3770},
{63,3766},
{64,3753},
{65,3750},
{67,3747},
{68,3744},
{69,3741},
{71,3738},
{72,3734},
{73,3731},
{75,3728},
{76,3724},
{77,3721},
{78,3718},
{80,3715},
{81,3712},
{82,3708},
{84,3705},
{85,3702},
{86,3699},
{88,3696},
{89,3689},
{90,3684},
{92,3663},
{93,3642},
{94,3635},
{95,3625},
{97,3570},
{98,3528},
{99,3435},
{100,3400}


};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] = {
{0 ,4190},
{1 ,4175},
{3 ,4159},
{4 ,4144},
{5 ,4130},
{7 ,4114},
{8 ,4100},
{9 ,4087},
{10,4074},
{12,4062},
{13,4049},
{14,4036},
{16,4024},
{17,4011},
{18,4000},
{20,3987},
{21,3976},
{22,3965},
{24,3956},
{25,3945},
{26,3933},
{27,3924},
{29,3915},
{30,3903},
{31,3895},
{33,3885},
{34,3874},
{35,3864},
{37,3853},
{38,3844},
{39,3833},
{41,3822},
{42,3813},
{43,3804},
{44,3798},
{46,3792},
{47,3788},
{48,3785},
{50,3782},
{51,3781},
{52,3780},
{54,3779},
{55,3776},
{56,3776},
{58,3774},
{59,3775},
{60,3772},//3772
{61,3770},
{63,3766},
{64,3753},
{65,3750},
{67,3747},
{68,3744},
{69,3741},
{71,3738},
{72,3734},
{73,3731},
{75,3728},
{76,3724},
{77,3721},
{78,3718},
{80,3715},
{81,3712},
{82,3708},
{84,3705},
{85,3702},
{86,3699},
{88,3696},
{89,3689},
{90,3684},
{92,3663},
{93,3642},
{94,3639},
{95,3635},
{97,3628},
{98,3568},
{99,3445},
{100,3400}
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] = {
{0,0},
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0}

};

/* ============================================================*/
/* <Rbat, Battery_Voltage> Table*/
/* ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] = {
{340 ,4157},
{748 ,4131},
{705 ,4112},
{780 ,4097},
{755 ,4083},
{775 ,4069},
{778 ,4054},
{743 ,4039},
{790 ,4022},
{740 ,4006},
{788 ,3991},
{760 ,3978},
{770 ,3965},
{770 ,3952},
{735 ,3937},
{770 ,3923},
{713 ,3910},
{770 ,3899},
{733 ,3887},
{753 ,3874},
{750 ,3864},
{710 ,3853},
{765 ,3842},
{740 ,3834},
{733 ,3827},
{783 ,3818},
{755 ,3811},
{743 ,3803},
{790 ,3796},
{755 ,3789},
{775 ,3784},
{798 ,3779},
{765 ,3775},
{810 ,3773},
{823 ,3769},
{785 ,3764},
{828 ,3758},
{843 ,3755},
{810 ,3749},
{860 ,3743},
{863 ,3736},
{905 ,3727},
{890 ,3719},
{858 ,3710},
{928 ,3702},
{898 ,3691},
{895 ,3680},
{940 ,3670},
{893 ,3656},
{928 ,3644},
{943 ,3633},
{898 ,3621},
{965 ,3607},
{973 ,3596},
{938 ,3585},
{1040,3572},
{1048,3564},
{1060,3553},
{1203,3543},
{1235,3535},
{1315,3526},
{1285,3514},
{1238,3495},
{1180,3472},
{1130,3452},
{1065,3426},
{1015,3406},
{1015,3406},
{1015,3400},
{1015,3400},
{1015,3400},
{1015,3400},
{1015,3400},
{1015,3400},
{1015,3400},
{1015,3400},
{1015,3400},
{1015,3400} 
};

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = {
{100,4190},
{208,4175},
{208,4159},
{210,4144},
{218,4130},
{213,4114},
{215,4100},
{220,4087},
{220,4074},
{225,4062},
{225,4049},
{230,4036},
{230,4024},
{230,4011},
{233,4000},
{230,3987},
{233,3976},
{240,3965},
{248,3956},
{248,3945},
{248,3933},
{253,3924},
{258,3915},
{250,3903},
{255,3895},
{255,3885},
{253,3874},
{250,3864},
{245,3853},
{243,3844},
{240,3833},
{230,3822},
{225,3813},
{220,3804},
{220,3798},
{223,3792},
{223,3788},
{235,3785},
{243,3782},
{250,3781},
{253,3780},
{258,3779},
{258,3776},
{260,3776},
{260,3774},
{270,3775},
{270,3772},
{273,3770},
{275,3766},
{273,3753},
{273,3750},
{270,3747},
{275,3744},
{273,3741},
{273,3738},
{263,3734},
{263,3731},
{263,3728},
{263,3724},
{265,3721},
{268,3718},
{263,3715},
{263,3712},
{268,3708},
{265,3705},
{265,3702},
{265,3699},
{265,3696},
{265,3689},
{265,3684},
{265,3663},
{265,3642},
{275,3615},
{280,3595},
{285,3500},
{290,3458},
{295,3425},
{300,3400} 
};

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = {
{100,4190},
{208,4175},
{208,4159},
{210,4144},
{218,4130},
{213,4114},
{215,4100},
{220,4087},
{220,4074},
{225,4062},
{225,4049},
{230,4036},
{230,4024},
{230,4011},
{233,4000},
{230,3987},
{233,3976},
{240,3965},
{248,3956},
{248,3945},
{248,3933},
{253,3924},
{258,3915},
{250,3903},
{255,3895},
{255,3885},
{253,3874},
{250,3864},
{245,3853},
{243,3844},
{240,3833},
{230,3822},
{225,3813},
{220,3804},
{220,3798},
{223,3792},
{223,3788},
{235,3785},
{243,3782},
{250,3781},
{253,3780},
{258,3779},
{258,3776},
{260,3776},
{260,3774},
{270,3775},
{270,3772},
{273,3770},
{275,3766},
{273,3753},
{273,3750},
{270,3747},
{275,3744},
{273,3741},
{273,3738},
{263,3734},
{263,3731},
{263,3728},
{263,3724},
{265,3721},
{268,3718},
{263,3715},
{263,3712},
{268,3708},
{265,3705},
{265,3702},
{265,3699},
{265,3696},
{265,3689},
{265,3684},
{265,3663},
{265,3642},
{275,3635},
{280,3625},
{285,3570},
{290,3528},
{295,3435},
{300,3400} 

};
/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = {
{100,4190},
{208,4175},
{208,4159},
{210,4144},
{218,4130},
{213,4114},
{215,4100},
{220,4087},
{220,4074},
{225,4062},
{225,4049},
{230,4036},
{230,4024},
{230,4011},
{233,4000},
{230,3987},
{233,3976},
{240,3965},
{248,3956},
{248,3945},
{248,3933},
{253,3924},
{258,3915},
{250,3903},
{255,3895},
{255,3885},
{253,3874},
{250,3864},
{245,3853},
{243,3844},
{240,3833},
{230,3822},
{225,3813},
{220,3804},
{220,3798},
{223,3792},
{223,3788},
{235,3785},
{243,3782},
{250,3781},
{253,3780},
{258,3779},
{258,3776},
{260,3776},
{260,3774},
{270,3775},
{270,3772},
{273,3770},
{275,3766},
{273,3753},
{273,3750},
{270,3747},
{275,3744},
{273,3741},
{273,3738},
{263,3734},
{263,3731},
{263,3728},
{263,3724},
{265,3721},
{268,3718},
{263,3715},
{263,3712},
{268,3708},
{265,3705},
{265,3702},
{265,3699},
{265,3696},
{265,3689},
{265,3684},
{265,3663},
{265,3642},
{275,3639},
{280,3635},
{285,3628},
{290,3568},
{295,3445},
{300,3400} 

};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = {
{0,0},
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},  
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0}


};

/* ============================================================*/
/* function prototype*/
/* ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

